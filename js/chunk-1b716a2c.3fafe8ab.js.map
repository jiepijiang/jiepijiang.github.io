{"version":3,"sources":["webpack:///./src/components/NavigateBar.vue?06db","webpack:///./src/components/NavigateBar.vue?db73","webpack:///src/components/NavigateBar.vue","webpack:///./src/components/NavigateBar.vue?488a","webpack:///./src/components/NavigateBar.vue","webpack:///./src/components/Listbar.vue?da57","webpack:///src/components/Listbar.vue","webpack:///./src/components/Listbar.vue?c4f4","webpack:///./src/components/Listbar.vue","webpack:///./src/views/EditProfile.vue?4886","webpack:///./src/components/Listbar.vue?2781","webpack:///./src/views/EditProfile.vue?b91b","webpack:///src/views/EditProfile.vue","webpack:///./src/views/EditProfile.vue?a75c","webpack:///./src/views/EditProfile.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","$router","back","_v","_s","title","push","staticStyle","staticRenderFns","props","component","attrs","path","label","tips","$axios","defaults","baseURL","userInfo","head_img","afterRead","nickname","nativeOn","show","handleChangeNickname","model","value","callback","$$v","expression","showpwd","handleChangePassword","password","gender","showGender","actions","onSelect","data","userJson","components","Listbar","NavigateBar","mounted","url","user","id","headers","Authorization","token","methods","formData","append","file","console","log","method","res","handleEdit","request","then","item"],"mappings":"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","file":"js/chunk-1b716a2c.3fafe8ab.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigateBar.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigateBar.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"navigate-bar\"},[_c('span',{staticClass:\"iconfont iconjiantou2\",on:{\"click\":function($event){return _vm.$router.back()}}}),_c('strong',[_vm._v(_vm._s(_vm.title))]),(_vm.showHome)?_c('span',{staticClass:\"iconfont iconshouye\",on:{\"click\":function($event){return _vm.$router.push('/')}}}):_c('span',{staticClass:\"iconfont iconshouye\",staticStyle:{\"opacity\":\"0\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 顶部的导航条 -->\r\n  <div class=\"navigate-bar\">\r\n    <span class=\"iconfont iconjiantou2\" @click=\"$router.back()\"></span>\r\n    <strong>{{title}}</strong>\r\n    <span class=\"iconfont iconshouye\" @click=\"$router.push('/')\" v-if=\"showHome\"></span>\r\n    <!-- v-else指令是必须要接着v-if后面使用的 -->\r\n    <span v-else class=\"iconfont iconshouye\" style=\"opacity:0\"></span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  // 组件传值,展示的文字和是否展示首页的图标\r\n  // showHome是布尔值,如果传入的是true,就显示,如果是false就隐藏主页图标\r\n  props: [\"title\", \"showHome\"]\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.navigate-bar {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  line-height: 48/360 * 100vw;\r\n  padding: 0 20/360 * 100vw;\r\n  border-bottom: 1px #eee solid;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigateBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigateBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NavigateBar.vue?vue&type=template&id=05541c0c&\"\nimport script from \"./NavigateBar.vue?vue&type=script&lang=js&\"\nexport * from \"./NavigateBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NavigateBar.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"listbar\"},[_c('router-link',{attrs:{\"to\":_vm.path||'#'}},[_c('div',[_vm._v(_vm._s(_vm.label))]),_c('div',{staticClass:\"tips\"},[_vm._v(\" \"+_vm._s(_vm.tips)+\" \"),_c('span',{staticClass:\"iconfont iconjiantou1\"})])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 列表栏 -->\r\n  <div class=\"listbar\">\r\n    <router-link :to=\"path||'#'\">\r\n      <div>{{label}}</div>\r\n      <div class=\"tips\">\r\n        {{tips}}\r\n        <span class=\"iconfont iconjiantou1\"></span>\r\n      </div>\r\n    </router-link>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  // 动态属性,添加之后才能使用插值表达式\r\n  props: [\"label\", \"tips\", \"path\"]\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n// 列表按钮栏的样式\r\n.listbar {\r\n  padding-left: 20/360 * 100vw;\r\n  height: 48/360 * 100vw;\r\n  line-height: 48/360 * 100vw;\r\n  /deep/a {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    border-bottom: 1px solid #ccc;\r\n    align-items: center;\r\n    padding-right: 5px;\r\n  }\r\n  .tips {\r\n    color: #999;\r\n    font-size: 13px;\r\n    span {\r\n      margin-left: 5px;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Listbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Listbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Listbar.vue?vue&type=template&id=a669c5f2&scoped=true&\"\nimport script from \"./Listbar.vue?vue&type=script&lang=js&\"\nexport * from \"./Listbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Listbar.vue?vue&type=style&index=0&id=a669c5f2&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a669c5f2\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProfile.vue?vue&type=style&index=0&id=7b5d3b2f&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProfile.vue?vue&type=style&index=0&id=7b5d3b2f&lang=less&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Listbar.vue?vue&type=style&index=0&id=a669c5f2&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Listbar.vue?vue&type=style&index=0&id=a669c5f2&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('NavigateBar',{attrs:{\"title\":\"编辑资料\"}}),_c('div',{staticClass:\"avatar\"},[_c('img',{attrs:{\"src\":_vm.$axios.defaults.baseURL+_vm.userInfo.head_img,\"alt\":\"\"}}),_c('van-uploader',{staticClass:\"uploader\",attrs:{\"after-read\":_vm.afterRead}})],1),_c('Listbar',{attrs:{\"label\":\"昵称\",\"tips\":_vm.userInfo.nickname},nativeOn:{\"click\":function($event){_vm.show=true}}}),_c('van-dialog',{attrs:{\"title\":\"修改昵称\",\"show-cancel-button\":\"\"},on:{\"confirm\":_vm.handleChangeNickname},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('van-field',{attrs:{\"placeholder\":\"请输入昵称\"},model:{value:(_vm.nickname),callback:function ($$v) {_vm.nickname=$$v},expression:\"nickname\"}})],1),_c('Listbar',{attrs:{\"label\":\"密码\",\"tips\":\"******\"},nativeOn:{\"click\":function($event){_vm.showpwd=true}}}),_c('van-dialog',{attrs:{\"title\":\"修改密码\",\"show-cancel-button\":\"\"},on:{\"confirm\":_vm.handleChangePassword},model:{value:(_vm.showpwd),callback:function ($$v) {_vm.showpwd=$$v},expression:\"showpwd\"}},[_c('van-field',{attrs:{\"placeholder\":\"请输入新密码\",\"type\":\"password\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('Listbar',{attrs:{\"label\":\"性别\",\"tips\":['女','男'][_vm.userInfo.gender]},nativeOn:{\"click\":function($event){_vm.showGender=true}}}),_c('van-action-sheet',{attrs:{\"actions\":_vm.actions,\"close-on-click-action\":\"\"},on:{\"select\":_vm.onSelect},model:{value:(_vm.showGender),callback:function ($$v) {_vm.showGender=$$v},expression:\"showGender\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <!-- 顶部导航条 引入自定义组件 -->\r\n    <NavigateBar title=\"编辑资料\" />\r\n    <!-- 头像 -->\r\n    <div class=\"avatar\">\r\n      <img :src=\"$axios.defaults.baseURL+userInfo.head_img\" alt />\r\n\r\n      <!-- 添加上传组件 -->\r\n      <van-uploader class=\"uploader\" :after-read=\"afterRead\" />\r\n    </div>\r\n    <!-- 组价的调用,单双标签都可以 -->\r\n    <!-- <Listbar v-for=\"(item,index) in rows\" :key=\"index\" :label=\"item.label\" :tips=\"item.tips\" /> -->\r\n    <!-- 编辑昵称的按钮 -->\r\n    <Listbar label=\"昵称\" :tips=\"userInfo.nickname\" @click.native=\"show=true\" />\r\n    <!-- 编辑昵称的弹窗 -->\r\n    <!-- v-modle:value 和input/change 事件两种数据的集合，这里的v-model作用是控制弹窗是否显示出来 -->\r\n    <van-dialog v-model=\"show\" title=\"修改昵称\" show-cancel-button @confirm=\"handleChangeNickname\">\r\n      <van-field v-model=\"nickname\" placeholder=\"请输入昵称\" />\r\n    </van-dialog>\r\n\r\n    <!-- 编辑密码的按钮 -->\r\n    <Listbar label=\"密码\" tips=\"******\" @click.native=\"showpwd=true\" />\r\n    <!-- 编辑密码的弹窗 -->\r\n    <van-dialog v-model=\"showpwd\" title=\"修改密码\" show-cancel-button @confirm=\"handleChangePassword\">\r\n      <van-field v-model=\"password\" placeholder=\"请输入新密码\" type=\"password\" />\r\n    </van-dialog>\r\n\r\n    <!-- 编辑性别的按钮 -->\r\n    <Listbar label=\"性别\" :tips=\"['女','男'][userInfo.gender]\" @click.native=\"showGender=true\" />\r\n    <!-- 编辑性别的上拉菜单弹窗 -->\r\n    <van-action-sheet\r\n      v-model=\"showGender\"\r\n      :actions=\"actions\"\r\n      @select=\"onSelect\"\r\n      close-on-click-action\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 导入列表按钮栏的组件\r\nimport Listbar from \"@/components/Listbar\";\r\n// 引入头部的导航组件\r\nimport NavigateBar from \"@/components/NavigateBar\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      userInfo: {},\r\n      // 本地的用户数据\r\n      userJson: {},\r\n      // 是否显示编辑昵称的弹窗\r\n      show: false,\r\n      // 是否显示修改密码的弹窗\r\n      showpwd: false,\r\n      // 是否显示修改性别的弹窗\r\n      showGender: false,\r\n      // 性别弹窗的选项\r\n      actions: [\r\n        // 对象的数据是可以随意的添加和修改，\r\n        // 因为后台数据表示性别的数字1和0\r\n        { name: \"男\", value: 1 },\r\n        { name: \"女\", value: 0 }\r\n      ],\r\n      // 单独记录弹出框的昵称\r\n      nickname: \"\",\r\n      // 单独记录弹窗输入框的密码\r\n      password: \"\",\r\n      gender: \"\"\r\n    };\r\n  },\r\n\r\n  // 注册列表组件,导入的子组件都必须注册才可以在模板渲染\r\n  components: {\r\n    Listbar,\r\n    NavigateBar\r\n  },\r\n  // 组件加载完成后触发\r\n  mounted() {\r\n    const userJson = JSON.parse(localStorage.getItem(\"userInfo\"));\r\n    // 保存到data，就可以在methods的方法里面使用了\r\n    this.userJson = userJson;\r\n    // console.log(this.userJson);\r\n\r\n    // 请求用户详情\r\n    this.$axios({\r\n      url: \"/user/\" + userJson.user.id,\r\n      headers: {\r\n        Authorization: this.userJson.token\r\n      }\r\n    }).then(res => {\r\n      const { data } = res.data;\r\n      this.userInfo = data;\r\n      this.nickname = this.userInfo.nickname;\r\n      // console.log(this.userInfo);\r\n    });\r\n  },\r\n\r\n  methods: {\r\n    // 图片上传的方法\r\n    afterRead(file) {\r\n      // 创建一个表单对象，上传图片资源必须是表单类型\r\n      const formData = new FormData();\r\n      // 通过原有的方法apeend给表单添加元素\r\n      // 第一个字符串是file表示接口接收的属性，第二个file是文件对象\r\n      formData.append(\"file\", file.file);\r\n      // 此时可以自行将文件上传至服务器\r\n      console.log(file);\r\n      this.$axios({\r\n        url: \"/upload\",\r\n        // 请求方式\r\n        method: \"POST\",\r\n        // 添加头信息\r\n        headers: {\r\n          Authorization: this.userJson.token\r\n        },\r\n        data: formData\r\n      }).then(res => {\r\n        console.log(res);\r\n        // url 就是图片的路径\r\n        const { url } = res.data.data;\r\n        // 替换掉当前头像路径\r\n        this.userInfo.head_img = url;\r\n        // 图片上传成功时候调用编辑用户信息的方法\r\n        this.handleEdit({\r\n          head_img: url\r\n        });\r\n      });\r\n    },\r\n    // 封装用户信息的函数\r\n    handleEdit(data) {\r\n      return this.$axios({\r\n        url: \"/user_update/\" + this.userInfo.id,\r\n        method: \"post\",\r\n        headers: {\r\n          Authorization: this.userJson.token\r\n        },\r\n        data\r\n      }).then(res => {\r\n        console.log(res);\r\n        this.$toast.success(\"修改成功\");\r\n      });\r\n    },\r\n\r\n    // 修改昵称的事件\r\n    handleChangeNickname() {\r\n      // 调用编辑用户信息的函数\r\n      const request = this.handleEdit({ nickname: this.nickname });\r\n\r\n      request.then(() => {\r\n        // 同步修改当前显示的数据\r\n        this.userInfo.nickname = this.nickname;\r\n      });\r\n    },\r\n\r\n    // 修改密码的事件\r\n    handleChangePassword() {\r\n      const request=this.handleEdit({ password: this.password });\r\n      // this.userInfo.password = this.password;\r\n    },\r\n\r\n    // 选中性别的时候触发的时间，item是选择的当前项\r\n    onSelect(item) {\r\n      // 默认情况下点击选项时不会自动收起\r\n      // 可以通过 close-on-click-action 属性开启自动收起\r\n      const request = this.handleEdit({ gender: item.value });\r\n\r\n      this.userInfo.gender = item.value;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.avatar {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin: 20/360 * 100vw;\r\n  position: relative;\r\n  img {\r\n    width: 100/360 * 100vw;\r\n    height: 100/360 * 100vw;\r\n    border-radius: 50%;\r\n  }\r\n  .uploader {\r\n    position: absolute;\r\n    width: 100/360 * 100vw;\r\n    height: 100/360 * 100vw;\r\n    left: 50%;\r\n    top: 50%;\r\n    transform: translateX(-50/360 * 100vw) translateY(-50/360 * 100vw);\r\n    opacity: 0;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProfile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProfile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditProfile.vue?vue&type=template&id=7b5d3b2f&scoped=true&\"\nimport script from \"./EditProfile.vue?vue&type=script&lang=js&\"\nexport * from \"./EditProfile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditProfile.vue?vue&type=style&index=0&id=7b5d3b2f&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b5d3b2f\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}